{% extends 'base.html' %}

<!DOCTYPE html>
{% load static %}

<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Metas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
          crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>

</head>
<body>
    {% block content %}
<!-- TERMINA BARRA DE NAVEGACIÓN -->

<form action="">
    <br><br><br><br>
    <div class="container">
        <p id="movimientos">Crear Meta</p>
        <div class="input-group mb-3">
            <span class="input-group-text mb-3">Meta</span>
            <textarea class="form-control mb-3" aria-label="With textarea" placeholder="Nombre"
                      name="goal_name"></textarea>

            <span class="input-group-text mb-3">Valor</span>
            <textarea class="form-control mb-3" aria-label="With textarea"
                      placeholder="Valor a alcanzar" name="goal_value"></textarea>

            <span class="input-group-text mb-3">Fecha</span>
            <textarea class="form-control mb-3" aria-label="With textarea" placeholder="AAAA/MM/DD"
                      name="goal_date"></textarea>
        </div>
        <button type="submit" class="btn btn-primary mb-3"> Crear Meta</button>
    <br>
    <br>
</form>
<!-- TERMINA CREACION DE META -->

<p id="movimientos">Metas Creadas</p>

{% for goal in user_goals %}

<div class="container">
    <br>
            <div class="card" style="width: 18rem;">
                <div id="metas" class="card-body">
                    <h5 class="card-title">
                        {{ goal.nombre }}
                    </h5>
                    <p class="card-text">Progreso: </p>
                    <p class="card-text">{{ goal.cantidad_actual }} / {{ goal.cantidad_meta }}</p>
                    <progress id="file" value="{{ goal.cantidad_actual }}" max="{{ goal.cantidad_meta }}"></progress>
                    <p class="card-text">Planeado para: {{ goal.fecha }}</p>
                    {% if goal.dias_estimados %}
                    <p class="card-text">Si sigues así, alcanzarás tu objetivo en {{ goal.dias_estimados }} días.</p>
                    {% endif %}
                </div>
            </div>

    </div>
{% endfor %}
{% endblock content %}

</body>
</html>